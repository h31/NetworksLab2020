# Лабораторная работа №2. Асинхронный консольный чат на сокетах и select()
## 1. Файлы
`server.py` - серверное приложение;

`сlient.py` - приложение-клиент;

`bat/server_start.bat` - .bat-файл для запуска сервера;

`bat/client_start.bat` - .bat-файл для запуска клиента;

`bat/test.bat` - .bat-файл для запуска теста: запускает 1 сервер и 3 клиента (данные можно настраивать);

`bat/close.bat` - .bat-файл для закрытия всех клиентов и серверов;

`bat/compile.bat` - .bat-файл для компиляции .py-файлов в .exe.

## 2. Описание протокола
Сообщения, передаваемые между сервером и клиентами, имеет следующий вид:
1. Первые 10 символов - длина сообщения (заголовок);

2. Оставшиеся символы - сообщение произвольной длины. Состоит из 3-х частей: время отправки (по гринвичу), ник отправителя,
текст сообщения. Для отделения частей друг от друга используется специальный экранированный символ `\0`.

Сообщения могут быть как от сервера клиенту (служебные), так и от клиента другому клиенту.

## 3. Серверное приложение
После запуска сервера в консоли печатается сообщение `"---Server Started---"`, сигнализирующее об успешном старте.
При подключении пользователей, на сервер отправляется служебное сообщение, из которого берётся ник. После этого всем клиентам 
отправляется сообщение вида `"<time> [Server] [nickname] joined the chat"`. Иными словами, сервер отправляет всем клиентам служебное сообщение о том, 
что к чату подключился новый пользователь.

В процессе переписки между пользователями все сообщения проходят через сервер и логируются (в данной реализации сообщения хранятся в открытом виде, 
шифрование отсутствует). При этом в консоли сервера отображается не время отправления сообщения пользователем, а время его получения сервером.

Если пользователь отключается от сервера, всем клиентам отправляется сообщение вида `"<time> [Server] [nickname] left the chat"`.

## 4. Приложение-клиент
После запуска приложения клиенту предлагается ввести свой ник, а затем произойдёт попытка подключения к серверу. Если подключение было успешным, 
в консоли появится сообщение `"<time> [Server] [nickname] joined the chat"`.

После подключения пользователь может печатать текст произвольной длины. В случае его отправки клиенту, сообщение сначала доставляется на сервер. 
Там у него меняется время отправления пользователем на время получения сообщения сервером и уже в таком виде сообщение отправляется получателям 
(всем остальным клиентам). Таким образом, всё время учитывается относительно сервера (как это реализовано в большинстве мессенджеров), а не какого-то из клиентов.

# NetworksLab2020
ServerNIO.java - серверное приложение; ClientNIO.java - клиентское приложение; input - входные данные; cycle - скрипт для генерации 100 подключений.

##
Скомпилировать проект:
```bash
mvn clean compile package
```

## Запуск приложения

Запуск сервера

```bash
java -cp target/tcp-1.0-SNAPSHOT.jar ServerNIO
```

Запуск клиента

```bash
java -cp target/tcp-1.0-SNAPSHOT.jar Client
```
ip - localhost;
port = 1234;

Запуск скрипта (работает только для ClientNIO)

```bash
./cycle
```

### Для  OS Linux
Перед запуском приложения наберите команды:
* для отправки длинных сообщений

```bash
stty -icanon
```
* для установки тайм зоны в текущей сессии

```bash 
export TZ=Europe/Kaliningrad
```
## Описание протокола
Формат сообщения: time\0 nickname\0: msg\0

* Части сообщения разделяются нулевым символом (\0).
* Имя клиента может быть любым символом и любой длины.
* Размер отправляемого сообщения не ограничен.
* Конец сообщения и имени клиента - \n.
* Формат времени hh:mm:ss.SSS
* Пустые сообщения не отправляются на сервер. 

В клиентском приложении пользователю будет предложено ввести свой ник (Press your nick:). После этого он может приступить к общению с другими клиентами.

Время отправки сообщения соответствует местному времени пользователя.

Закрыть клиента - введите bye; Закрыть сервер - послать сигнал SIGINT (Ctrl + C).

